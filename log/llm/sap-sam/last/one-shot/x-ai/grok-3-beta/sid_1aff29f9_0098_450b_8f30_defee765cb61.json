{
  "name": "x-ai/grok-3-beta - one-shot",
  "processID": "sid_1aff29f9_0098_450b_8f30_defee765cb61",
  "timestamp": "2025-06-12T07:37:48.419Z",
  "model": "x-ai/grok-3-beta",
  "compiled": true,
  "usage": {
    "prompt_tokens": 11086,
    "completion_tokens": 1827,
    "total_tokens": 12913,
    "cost": 0.06021075
  },
  "prompt": "Generate a Solidity smart contract from the BPMN 2.0 choreography model XML provided above.\n\nUse the following implementation rules:\n\n- The contract name must be the `id` of the `<choreography>` element in the model.\n- Implement the function `enact(uint taskID) external` which allows a participant to execute a choreography task.\n- Only `<choreographyTask>` elements are executable via `enact()`. Gateways and start/end events are handled internally.\n- Enforce the order of task execution based on `<sequenceFlow>` elements and the choreography's control flow.\nUse the following mapping of taskID to `choreographyTask` id of the model:\n```json\n{\"sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91\":1,\"sid-C3423358-0834-46F4-9BEF-2312F3F5670B\":2,\"sid-640C6210-0293-4116-9743-EE1E3CECEBC1\":3,\"sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B\":4,\"sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93\":5,\"sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477\":6,\"sid-B568F431-74F6-46AC-932A-58E90EB96830\":7,\"sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE\":8,\"sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB\":9,\"sid-04736748-3A55-4172-8EC2-70379C6D6C1C\":10}\n```\n- Implement exclusive gateways (`<exclusiveGateway>`) using Solidity conditional logic.\n  - Each exclusive gateway must evaluate all conditional `<sequenceFlow>` elements when active.\n  - Use Solidity `if (conditions & N == N)` syntax, exactly as defined in the `<conditionExpression>`.\n  - If at least one condition is satisfied, activate the target task.\n  - If none are satisfied, follow the `default` sequenceFlow.\n  - Each condition must be evaluated only when the gateway's bit is active in `tokenState`.\n  - Use a variable `uint public conditions` and include a setter: `function setConditions(uint _conditions) external`.\n\n- Implement parallel gateways (`<parallelGateway>`) as:\n  - Join: wait for all incoming tokens to activate.\n  - Split: activate all outgoing tasks concurrently.\n\n- Use `uint public tokenState` to encode current control flow positions:\n  - Each active task or gateway is tracked using a unique bit (e.g., 1, 2, 4, 8...).\n  - Use bitmasking (`&`, `|`, `~`) to activate or deactivate paths.\n  - Transitions may activate multiple concurrent paths.\n\n- The flow may include loops. \n  - Use taksID `0` as a no operation, and set taskID to `0` after every task execution, so there are no infinite task loops.\n\n- Use the constructor: `constructor(address[n] memory _participants)` where `n` is the number of participants.\n- Allow execution of each task only by the correct initiating participant, using:\n  ```solidity\n  require(msg.sender == participants[i]);\n  ```\n- Use this mapping of participant index to participant ID:\n```json\n{\"sid-C76DC8B4-5477-44FF-9300-CCBB398E709F\":0,\"sid-0637E5C7-F1B5-42A4-AB5B-0656D83B116F\":1,\"sid-C3FE02E8-C705-4DC0-BEEC-8567CFB4B9B2\":2,\"sid-1EAD1805-B561-45AD-B1B3-DCD0893FBCE5\":3,\"sid-BF5B5939-7CD8-4193-BA5B-09A71F0CDB82\":4,\"sid-2F6C51BD-BE06-4997-9841-003CE058B9FA\":5,\"sid-D0AB87D0-19D7-4CEF-B3F5-B39CC83153D4\":6,\"sid-92D95B36-23D4-42DD-8820-5609BD91FB8E\":7,\"sid-8216122D-9E38-43E4-ACAC-556203B303ED\":8,\"sid-2A548399-7955-4790-A3B3-7635AA7497F5\":9,\"sid-522FFA7D-8E67-4E7F-817D-BB8E8162B737\":10,\"sid-90BD069C-C3A7-4DE8-A531-3AD1128E28ED\":11,\"sid-BB57C9F9-BCAB-4C46-98E4-577947752D9A\":12,\"sid-02591AA8-63E4-4DE4-8C77-C519D144FFDF\":13,\"sid-42B35826-855F-4826-A5AF-56512458F1E6\":14,\"sid-016E5955-3D7A-4B56-BCFD-C3859E326D35\":15,\"sid-83E1BDE7-8068-4CE3-80F3-D43A23B89294\":16,\"sid-F0F0C00D-F80E-4764-8BC3-3F7F1C8B0A9E\":17,\"sid-D033B3A1-C8FD-42BB-93DB-160EF2DD2A77\":18,\"sid-98B855E2-B0CC-4761-B727-75AD731F4AB7\":19}\n```\n\n- At the end of the process, set `tokenState = 0` to indicate termination.\n- If you use text from the model in the code, you must properly escape it (no -, no umlauts).\n- Do not output any text other than the Solidity contract itself.\n\nAn example.\nGiven the choreography\n```XML\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" id=\"_tTv5YOycEeiHGOQ2NkJZNQ\" targetNamespace=\"http://bpmn.io/schema/bpmn\">\n  <bpmn2:message id=\"Message_032z8ml\"></bpmn2:message>\n  <bpmn2:message id=\"Message_19qrd5q\"></bpmn2:message>\n  <bpmn2:message id=\"Message_0vnm1wq\"></bpmn2:message>\n  <bpmn2:message id=\"Message_085o98p\"></bpmn2:message>\n  <bpmn2:choreography id=\"Choreography\">\n    <bpmn2:participant id=\"Participant_1tzf68i\" name=\"Customer\"></bpmn2:participant>\n    <bpmn2:participant id=\"Participant_198pz14\" name=\"Seller\"></bpmn2:participant>\n    <bpmn2:participant id=\"Participant_0378t5g\" name=\"Manufacturer\"></bpmn2:participant>\n    <bpmn2:messageFlow id=\"MessageFlow_0r98f9o\" sourceRef=\"Participant_198pz14\" targetRef=\"Participant_1tzf68i\" messageRef=\"Message_032z8ml\"></bpmn2:messageFlow>\n    <bpmn2:messageFlow id=\"MessageFlow_18xf3u6\" sourceRef=\"Participant_198pz14\" targetRef=\"Participant_1tzf68i\" messageRef=\"Message_19qrd5q\"></bpmn2:messageFlow>\n    <bpmn2:messageFlow id=\"MessageFlow_0r00txu\" sourceRef=\"Participant_198pz14\" targetRef=\"Participant_0378t5g\" messageRef=\"Message_0vnm1wq\"></bpmn2:messageFlow>\n    <bpmn2:messageFlow id=\"MessageFlow_1cx9rl4\" sourceRef=\"Participant_1tzf68i\" targetRef=\"Participant_198pz14\" messageRef=\"Message_085o98p\"></bpmn2:messageFlow>\n    <bpmn2:startEvent id=\"Event_0y1sdn3\">\n      <bpmn2:outgoing>Flow_0e2c805</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:choreographyTask id=\"ChoreographyTask_1vnykqp\" name=\"Order goods\" initiatingParticipantRef=\"Participant_1tzf68i\">\n      <bpmn2:incoming>Flow_0e2c805</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_0d6j7vb</bpmn2:outgoing>\n      <bpmn2:participantRef>Participant_1tzf68i</bpmn2:participantRef>\n      <bpmn2:participantRef>Participant_198pz14</bpmn2:participantRef>\n      <bpmn2:messageFlowRef>MessageFlow_1cx9rl4</bpmn2:messageFlowRef>\n    </bpmn2:choreographyTask>\n    <bpmn2:choreographyTask id=\"ChoreographyTask_16lc74v\" name=\"Produce goods\" initiatingParticipantRef=\"Participant_198pz14\">\n      <bpmn2:incoming>Flow_0ybxbuc</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_14ulro8</bpmn2:outgoing>\n      <bpmn2:participantRef>Participant_198pz14</bpmn2:participantRef>\n      <bpmn2:participantRef>Participant_0378t5g</bpmn2:participantRef>\n      <bpmn2:messageFlowRef>MessageFlow_0r00txu</bpmn2:messageFlowRef>\n    </bpmn2:choreographyTask>\n    <bpmn2:choreographyTask id=\"ChoreographyTask_07t2zjo\" name=\"Inform customer\" initiatingParticipantRef=\"Participant_198pz14\">\n      <bpmn2:incoming>Flow_02gqwyg</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_1kim4vq</bpmn2:outgoing>\n      <bpmn2:participantRef>Participant_198pz14</bpmn2:participantRef>\n      <bpmn2:participantRef>Participant_1tzf68i</bpmn2:participantRef>\n      <bpmn2:messageFlowRef>MessageFlow_18xf3u6</bpmn2:messageFlowRef>\n    </bpmn2:choreographyTask>\n    <bpmn2:choreographyTask id=\"ChoreographyTask_056ylqg\" name=\"Ship goods\" initiatingParticipantRef=\"Participant_198pz14\">\n      <bpmn2:incoming>Flow_11zi7qu</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_04lnqsf</bpmn2:outgoing>\n      <bpmn2:participantRef>Participant_198pz14</bpmn2:participantRef>\n      <bpmn2:participantRef>Participant_1tzf68i</bpmn2:participantRef>\n      <bpmn2:messageFlowRef>MessageFlow_0r98f9o</bpmn2:messageFlowRef>\n    </bpmn2:choreographyTask>\n    <bpmn2:sequenceFlow id=\"Flow_0e2c805\" sourceRef=\"Event_0y1sdn3\" targetRef=\"ChoreographyTask_1vnykqp\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_0d6j7vb\" sourceRef=\"ChoreographyTask_1vnykqp\" targetRef=\"Gateway_1bpkhpg\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_0ymdsa2\" name=\"unavailable\" sourceRef=\"Gateway_1bpkhpg\" targetRef=\"Gateway_1klfaw3\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_0ybxbuc\" sourceRef=\"Gateway_1klfaw3\" targetRef=\"ChoreographyTask_16lc74v\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_02gqwyg\" sourceRef=\"Gateway_1klfaw3\" targetRef=\"ChoreographyTask_07t2zjo\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_1kim4vq\" sourceRef=\"ChoreographyTask_07t2zjo\" targetRef=\"Gateway_0xcnzox\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_14ulro8\" sourceRef=\"ChoreographyTask_16lc74v\" targetRef=\"Gateway_0xcnzox\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_067nql1\" name=\"conditions &amp; 1 == 1\" sourceRef=\"Gateway_1bpkhpg\" targetRef=\"Gateway_1yl9mch\">\n      <conditionExpression xsi:type=\"bpmn2:tFormalExpression\" language=\"Solidity\">conditions &amp; 1 == 1</conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_198zju1\" sourceRef=\"Gateway_0xcnzox\" targetRef=\"Gateway_1yl9mch\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_11zi7qu\" sourceRef=\"Gateway_1yl9mch\" targetRef=\"ChoreographyTask_056ylqg\"></bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"Flow_04lnqsf\" sourceRef=\"ChoreographyTask_056ylqg\" targetRef=\"Event_1ezlk4g\"></bpmn2:sequenceFlow>\n    <bpmn2:exclusiveGateway id=\"Gateway_1bpkhpg\" default=\"Flow_0ymdsa2\">\n      <bpmn2:incoming>Flow_0d6j7vb</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_0ymdsa2</bpmn2:outgoing>\n      <bpmn2:outgoing>Flow_067nql1</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:exclusiveGateway id=\"Gateway_1yl9mch\" default=\"Flow_11zi7qu\">\n      <bpmn2:incoming>Flow_067nql1</bpmn2:incoming>\n      <bpmn2:incoming>Flow_198zju1</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_11zi7qu</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:parallelGateway id=\"Gateway_1klfaw3\">\n      <bpmn2:incoming>Flow_0ymdsa2</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_0ybxbuc</bpmn2:outgoing>\n      <bpmn2:outgoing>Flow_02gqwyg</bpmn2:outgoing>\n    </bpmn2:parallelGateway>\n    <bpmn2:parallelGateway id=\"Gateway_0xcnzox\">\n      <bpmn2:incoming>Flow_1kim4vq</bpmn2:incoming>\n      <bpmn2:incoming>Flow_14ulro8</bpmn2:incoming>\n      <bpmn2:outgoing>Flow_198zju1</bpmn2:outgoing>\n    </bpmn2:parallelGateway>\n    <bpmn2:endEvent id=\"Event_1ezlk4g\">\n      <bpmn2:incoming>Flow_04lnqsf</bpmn2:incoming>\n    </bpmn2:endEvent>\n  </bpmn2:choreography>\n</bpmn2:definitions>\n```\nA correct implementation is:\n```solidity\n//SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\ncontract comp_Choreography {\n  uint public tokenState = 1;\n  address[3] public participants;\n  uint public conditions;\n  constructor(address[3] memory _participants) {\n    participants = _participants;\n  }\n  function setConditions(uint _conditions) external {\n    conditions = _conditions;\n  }\n  function enact(uint id) external {\n    uint _tokenState = tokenState;\n    while(_tokenState != 0) {\n      if (_tokenState & 1 == 1) {\n        // <--- ChoreographyTask_1vnykqp Order goods --->\n        if (1 == id && msg.sender == participants[0]) {\n        // <--- custom code for task here --->\n        _tokenState &= ~uint(1);\n        _tokenState |= 6;\n        id = 0;\n        continue; \n        }\n      }\n      if (_tokenState & 2 == 2) {\n        // <--- ChoreographyTask_16lc74v Produce goods --->\n        if (2 == id && msg.sender == participants[1]) {\n        // <--- custom code for task here --->\n        _tokenState &= ~uint(2);\n        _tokenState |= 8;\n        id = 0;\n        continue; \n        }\n      }\n      if (_tokenState & 4 == 4) {\n        // <--- ChoreographyTask_07t2zjo Inform customer --->\n        if (3 == id && msg.sender == participants[1]) {\n        // <--- custom code for task here --->\n        _tokenState &= ~uint(4);\n        _tokenState |= 16;\n        id = 0;\n        continue; \n        }\n      }\n      if (_tokenState & 32 == 32) {\n        // <--- ChoreographyTask_056ylqg Ship goods --->\n        if (4 == id && msg.sender == participants[1]) {\n        // <--- custom code for task here --->\n        _tokenState &= ~uint(32);\n        _tokenState |= 0;\n        break; // is end\n        }\n      }\n      if (_tokenState & 6 == 6) {\n        if (conditions & 1 == 1) {\n          // <---  auto transition  --->\n          _tokenState &= ~uint(6);\n          _tokenState |= 32;\n          continue; \n        }\n      }\n      if (_tokenState & 24 == 24) {\n        // <---  auto transition  --->\n        _tokenState &= ~uint(24);\n        _tokenState |= 32;\n        continue; \n      }\n      break;\n    }\n    tokenState = _tokenState;\n  }\n}\n```",
  "input": "<ns0:definitions xmlns:ns0=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:ns2=\"http://www.signavio.com\" xmlns:ns3=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:ns4=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:ns5=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"19.1.2\" expressionLanguage=\"http://www.w3.org/TR/XPath\" id=\"sid-8b28b1ef-5ab9-4644-bf33-32caae9b5933\" targetNamespace=\"http://www.signavio.com\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n  <ns0:choreography id=\"sid_1aff29f9_0098_450b_8f30_defee765cb61\" isClosed=\"false\">\n    <ns0:participant id=\"sid-C76DC8B4-5477-44FF-9300-CCBB398E709F\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-0637E5C7-F1B5-42A4-AB5B-0656D83B116F\" name=\"Kunde\"></ns0:participant>\n    <ns0:participant id=\"sid-C3FE02E8-C705-4DC0-BEEC-8567CFB4B9B2\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-1EAD1805-B561-45AD-B1B3-DCD0893FBCE5\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-BF5B5939-7CD8-4193-BA5B-09A71F0CDB82\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-2F6C51BD-BE06-4997-9841-003CE058B9FA\" name=\"Kunde\"></ns0:participant>\n    <ns0:participant id=\"sid-D0AB87D0-19D7-4CEF-B3F5-B39CC83153D4\" name=\"Kunde\"></ns0:participant>\n    <ns0:participant id=\"sid-92D95B36-23D4-42DD-8820-5609BD91FB8E\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-8216122D-9E38-43E4-ACAC-556203B303ED\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-2A548399-7955-4790-A3B3-7635AA7497F5\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-522FFA7D-8E67-4E7F-817D-BB8E8162B737\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-90BD069C-C3A7-4DE8-A531-3AD1128E28ED\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-BB57C9F9-BCAB-4C46-98E4-577947752D9A\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-02591AA8-63E4-4DE4-8C77-C519D144FFDF\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-42B35826-855F-4826-A5AF-56512458F1E6\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-016E5955-3D7A-4B56-BCFD-C3859E326D35\" name=\"Kunde\"></ns0:participant>\n    <ns0:participant id=\"sid-83E1BDE7-8068-4CE3-80F3-D43A23B89294\" name=\"Kunde\"></ns0:participant>\n    <ns0:participant id=\"sid-F0F0C00D-F80E-4764-8BC3-3F7F1C8B0A9E\" name=\"System\"></ns0:participant>\n    <ns0:participant id=\"sid-D033B3A1-C8FD-42BB-93DB-160EF2DD2A77\" name=\"Supporter\"></ns0:participant>\n    <ns0:participant id=\"sid-98B855E2-B0CC-4761-B727-75AD731F4AB7\" name=\"System\"></ns0:participant>\n    <ns0:messageFlow id=\"sid-0c1898ba-e289-4fdf-ac70-8ed62fd54db1\" sourceRef=\"sid-C76DC8B4-5477-44FF-9300-CCBB398E709F\" targetRef=\"sid-0637E5C7-F1B5-42A4-AB5B-0656D83B116F\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-580be577-3376-4d77-bab9-a1de0d6e7e67\" sourceRef=\"sid-C3FE02E8-C705-4DC0-BEEC-8567CFB4B9B2\" targetRef=\"sid-1EAD1805-B561-45AD-B1B3-DCD0893FBCE5\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-7417a47f-6642-4b9d-95c7-4c4749260614\" sourceRef=\"sid-BF5B5939-7CD8-4193-BA5B-09A71F0CDB82\" targetRef=\"sid-2F6C51BD-BE06-4997-9841-003CE058B9FA\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-11324b96-184d-453d-a8e4-b2b92f784a6a\" sourceRef=\"sid-D0AB87D0-19D7-4CEF-B3F5-B39CC83153D4\" targetRef=\"sid-92D95B36-23D4-42DD-8820-5609BD91FB8E\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-4018ca9c-3552-426e-a404-a684fe326ce0\" sourceRef=\"sid-8216122D-9E38-43E4-ACAC-556203B303ED\" targetRef=\"sid-2A548399-7955-4790-A3B3-7635AA7497F5\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-9547b59e-e2ac-46f6-966c-a456666dbc02\" sourceRef=\"sid-522FFA7D-8E67-4E7F-817D-BB8E8162B737\" targetRef=\"sid-90BD069C-C3A7-4DE8-A531-3AD1128E28ED\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-8199a0d9-a9c7-410f-81e0-61f87de4e0d4\" sourceRef=\"sid-BB57C9F9-BCAB-4C46-98E4-577947752D9A\" targetRef=\"sid-02591AA8-63E4-4DE4-8C77-C519D144FFDF\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-57af6fd8-b6c9-4fe9-ac7e-e026f9925243\" sourceRef=\"sid-42B35826-855F-4826-A5AF-56512458F1E6\" targetRef=\"sid-016E5955-3D7A-4B56-BCFD-C3859E326D35\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-d9bb7d2a-ea8e-4ec5-9e04-6fd2799ebca9\" sourceRef=\"sid-83E1BDE7-8068-4CE3-80F3-D43A23B89294\" targetRef=\"sid-F0F0C00D-F80E-4764-8BC3-3F7F1C8B0A9E\"></ns0:messageFlow>\n    <ns0:messageFlow id=\"sid-41ab9082-223b-47b4-92c5-7f67c49b6aaa\" sourceRef=\"sid-D033B3A1-C8FD-42BB-93DB-160EF2DD2A77\" targetRef=\"sid-98B855E2-B0CC-4761-B727-75AD731F4AB7\"></ns0:messageFlow>\n    <ns0:startEvent id=\"sid-5F67C06C-20B9-4E0E-B4EF-C293FBACEF7A\" name=\"\">\n      <ns0:outgoing>sid-C1335E4B-B22D-4476-A029-2CC5CAC9CA02</ns0:outgoing>\n    </ns0:startEvent>\n    <ns0:choreographyTask id=\"sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91\" initiatingParticipantRef=\"sid-C76DC8B4-5477-44FF-9300-CCBB398E709F\" loopType=\"None\" name=\"Ticket erstellen\">\n      <ns0:incoming>sid-968D9F19-B8F1-4219-B458-1092D96B1D07</ns0:incoming>\n      <ns0:outgoing>sid-4E1C5571-7787-41B3-B6E2-8190C8F11196</ns0:outgoing>\n      <ns0:participantRef>sid-C76DC8B4-5477-44FF-9300-CCBB398E709F</ns0:participantRef>\n      <ns0:participantRef>sid-0637E5C7-F1B5-42A4-AB5B-0656D83B116F</ns0:participantRef>\n      <ns0:messageFlowRef>sid-0c1898ba-e289-4fdf-ac70-8ed62fd54db1</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-C3423358-0834-46F4-9BEF-2312F3F5670B\" initiatingParticipantRef=\"sid-C3FE02E8-C705-4DC0-BEEC-8567CFB4B9B2\" loopType=\"None\" name=\"Ticket auswählen\">\n      <ns0:incoming>sid-3380C9C1-8D93-4C75-B36E-B7118378E93D</ns0:incoming>\n      <ns0:outgoing>sid-488D0FF9-C620-45C3-8F57-52E11FABFFAD</ns0:outgoing>\n      <ns0:participantRef>sid-C3FE02E8-C705-4DC0-BEEC-8567CFB4B9B2</ns0:participantRef>\n      <ns0:participantRef>sid-1EAD1805-B561-45AD-B1B3-DCD0893FBCE5</ns0:participantRef>\n      <ns0:messageFlowRef>sid-580be577-3376-4d77-bab9-a1de0d6e7e67</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-640C6210-0293-4116-9743-EE1E3CECEBC1\" initiatingParticipantRef=\"sid-BF5B5939-7CD8-4193-BA5B-09A71F0CDB82\" loopType=\"None\" name=\"Ticket bearbeiten\">\n      <ns0:incoming>sid-81BE3A76-2B64-44FD-B260-7E4761420C48</ns0:incoming>\n      <ns0:outgoing>sid-67F1E45A-2D07-41D3-A50F-D8BDF80148DA</ns0:outgoing>\n      <ns0:participantRef>sid-BF5B5939-7CD8-4193-BA5B-09A71F0CDB82</ns0:participantRef>\n      <ns0:participantRef>sid-2F6C51BD-BE06-4997-9841-003CE058B9FA</ns0:participantRef>\n      <ns0:messageFlowRef>sid-7417a47f-6642-4b9d-95c7-4c4749260614</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B\" initiatingParticipantRef=\"sid-D0AB87D0-19D7-4CEF-B3F5-B39CC83153D4\" loopType=\"None\" name=\"Kunde füllt Formular aus\">\n      <ns0:incoming>sid-C1335E4B-B22D-4476-A029-2CC5CAC9CA02</ns0:incoming>\n      <ns0:outgoing>sid-968D9F19-B8F1-4219-B458-1092D96B1D07</ns0:outgoing>\n      <ns0:participantRef>sid-D0AB87D0-19D7-4CEF-B3F5-B39CC83153D4</ns0:participantRef>\n      <ns0:participantRef>sid-92D95B36-23D4-42DD-8820-5609BD91FB8E</ns0:participantRef>\n      <ns0:messageFlowRef>sid-11324b96-184d-453d-a8e4-b2b92f784a6a</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93\" initiatingParticipantRef=\"sid-8216122D-9E38-43E4-ACAC-556203B303ED\" loopType=\"None\" name=\"Status verändern\">\n      <ns0:incoming>sid-67F1E45A-2D07-41D3-A50F-D8BDF80148DA</ns0:incoming>\n      <ns0:outgoing>sid-431F1411-FC9B-4CA4-9697-3FDC381508C0</ns0:outgoing>\n      <ns0:participantRef>sid-8216122D-9E38-43E4-ACAC-556203B303ED</ns0:participantRef>\n      <ns0:participantRef>sid-2A548399-7955-4790-A3B3-7635AA7497F5</ns0:participantRef>\n      <ns0:messageFlowRef>sid-4018ca9c-3552-426e-a404-a684fe326ce0</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477\" initiatingParticipantRef=\"sid-522FFA7D-8E67-4E7F-817D-BB8E8162B737\" loopType=\"None\" name=\"Ticket abschließen\">\n      <ns0:incoming>sid-431F1411-FC9B-4CA4-9697-3FDC381508C0</ns0:incoming>\n      <ns0:outgoing>sid-9528F68B-EDA9-45F7-ACF4-0DE7FA2DD333</ns0:outgoing>\n      <ns0:participantRef>sid-522FFA7D-8E67-4E7F-817D-BB8E8162B737</ns0:participantRef>\n      <ns0:participantRef>sid-90BD069C-C3A7-4DE8-A531-3AD1128E28ED</ns0:participantRef>\n      <ns0:messageFlowRef>sid-9547b59e-e2ac-46f6-966c-a456666dbc02</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-B568F431-74F6-46AC-932A-58E90EB96830\" initiatingParticipantRef=\"sid-BB57C9F9-BCAB-4C46-98E4-577947752D9A\" loopType=\"None\" name=\"Ticket abspeichern\">\n      <ns0:incoming>sid-9528F68B-EDA9-45F7-ACF4-0DE7FA2DD333</ns0:incoming>\n      <ns0:outgoing>sid-ADCDC3A5-9A3D-43E1-A1EF-49D218148807</ns0:outgoing>\n      <ns0:participantRef>sid-BB57C9F9-BCAB-4C46-98E4-577947752D9A</ns0:participantRef>\n      <ns0:participantRef>sid-02591AA8-63E4-4DE4-8C77-C519D144FFDF</ns0:participantRef>\n      <ns0:messageFlowRef>sid-8199a0d9-a9c7-410f-81e0-61f87de4e0d4</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE\" initiatingParticipantRef=\"sid-42B35826-855F-4826-A5AF-56512458F1E6\" loopType=\"None\" name=\"Rückmeldung zu Bearbeitung geben\">\n      <ns0:incoming>sid-ADCDC3A5-9A3D-43E1-A1EF-49D218148807</ns0:incoming>\n      <ns0:outgoing>sid-98DA2709-8A66-4B90-9096-5F56A6B45BCB</ns0:outgoing>\n      <ns0:participantRef>sid-42B35826-855F-4826-A5AF-56512458F1E6</ns0:participantRef>\n      <ns0:participantRef>sid-016E5955-3D7A-4B56-BCFD-C3859E326D35</ns0:participantRef>\n      <ns0:messageFlowRef>sid-57af6fd8-b6c9-4fe9-ac7e-e026f9925243</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB\" initiatingParticipantRef=\"sid-83E1BDE7-8068-4CE3-80F3-D43A23B89294\" loopType=\"None\" name=\"Rückmeldung einsehen\">\n      <ns0:incoming>sid-98DA2709-8A66-4B90-9096-5F56A6B45BCB</ns0:incoming>\n      <ns0:outgoing>sid-81E0F66F-41FE-4837-9C2C-0B5AD226A3FE</ns0:outgoing>\n      <ns0:participantRef>sid-83E1BDE7-8068-4CE3-80F3-D43A23B89294</ns0:participantRef>\n      <ns0:participantRef>sid-F0F0C00D-F80E-4764-8BC3-3F7F1C8B0A9E</ns0:participantRef>\n      <ns0:messageFlowRef>sid-d9bb7d2a-ea8e-4ec5-9e04-6fd2799ebca9</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:choreographyTask id=\"sid-04736748-3A55-4172-8EC2-70379C6D6C1C\" initiatingParticipantRef=\"sid-D033B3A1-C8FD-42BB-93DB-160EF2DD2A77\" loopType=\"None\" name=\"Meldet sich an\">\n      <ns0:incoming>sid-4E1C5571-7787-41B3-B6E2-8190C8F11196</ns0:incoming>\n      <ns0:outgoing>sid-3380C9C1-8D93-4C75-B36E-B7118378E93D</ns0:outgoing>\n      <ns0:participantRef>sid-D033B3A1-C8FD-42BB-93DB-160EF2DD2A77</ns0:participantRef>\n      <ns0:participantRef>sid-98B855E2-B0CC-4761-B727-75AD731F4AB7</ns0:participantRef>\n      <ns0:messageFlowRef>sid-41ab9082-223b-47b4-92c5-7f67c49b6aaa</ns0:messageFlowRef>\n    </ns0:choreographyTask>\n    <ns0:endEvent id=\"sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80\" name=\"Vorgang abbrechen\">\n      <ns0:incoming>sid-5750B01B-6F1A-4504-9BF9-EC1F08B5B9E9</ns0:incoming>\n      <ns0:incoming>sid-81E0F66F-41FE-4837-9C2C-0B5AD226A3FE</ns0:incoming>\n    </ns0:endEvent>\n    <ns0:exclusiveGateway gatewayDirection=\"Diverging\" id=\"sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7\" name=\"\" default=\"sid-81BE3A76-2B64-44FD-B260-7E4761420C48\">\n      <ns0:incoming>sid-488D0FF9-C620-45C3-8F57-52E11FABFFAD</ns0:incoming>\n      <ns0:outgoing>sid-81BE3A76-2B64-44FD-B260-7E4761420C48</ns0:outgoing>\n      <ns0:outgoing>sid-5750B01B-6F1A-4504-9BF9-EC1F08B5B9E9</ns0:outgoing>\n    </ns0:exclusiveGateway>\n    <ns0:sequenceFlow id=\"sid-4E1C5571-7787-41B3-B6E2-8190C8F11196\" name=\"\" sourceRef=\"sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91\" targetRef=\"sid-04736748-3A55-4172-8EC2-70379C6D6C1C\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-C1335E4B-B22D-4476-A029-2CC5CAC9CA02\" name=\"\" sourceRef=\"sid-5F67C06C-20B9-4E0E-B4EF-C293FBACEF7A\" targetRef=\"sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-968D9F19-B8F1-4219-B458-1092D96B1D07\" name=\"\" sourceRef=\"sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B\" targetRef=\"sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-67F1E45A-2D07-41D3-A50F-D8BDF80148DA\" name=\"\" sourceRef=\"sid-640C6210-0293-4116-9743-EE1E3CECEBC1\" targetRef=\"sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-431F1411-FC9B-4CA4-9697-3FDC381508C0\" name=\"\" sourceRef=\"sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93\" targetRef=\"sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-9528F68B-EDA9-45F7-ACF4-0DE7FA2DD333\" name=\"\" sourceRef=\"sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477\" targetRef=\"sid-B568F431-74F6-46AC-932A-58E90EB96830\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-ADCDC3A5-9A3D-43E1-A1EF-49D218148807\" name=\"\" sourceRef=\"sid-B568F431-74F6-46AC-932A-58E90EB96830\" targetRef=\"sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-98DA2709-8A66-4B90-9096-5F56A6B45BCB\" name=\"\" sourceRef=\"sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE\" targetRef=\"sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-81E0F66F-41FE-4837-9C2C-0B5AD226A3FE\" name=\"\" sourceRef=\"sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB\" targetRef=\"sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-81BE3A76-2B64-44FD-B260-7E4761420C48\" name=\"ja\" sourceRef=\"sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7\" targetRef=\"sid-640C6210-0293-4116-9743-EE1E3CECEBC1\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-5750B01B-6F1A-4504-9BF9-EC1F08B5B9E9\" name=\"conditions &amp; 1 == 1\" sourceRef=\"sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7\" targetRef=\"sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80\">\n      <conditionExpression xsi:type=\"ns0:tFormalExpression\" language=\"Solidity\">conditions &amp; 1 == 1</conditionExpression>\n    </ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-3380C9C1-8D93-4C75-B36E-B7118378E93D\" name=\"\" sourceRef=\"sid-04736748-3A55-4172-8EC2-70379C6D6C1C\" targetRef=\"sid-C3423358-0834-46F4-9BEF-2312F3F5670B\"></ns0:sequenceFlow>\n    <ns0:sequenceFlow id=\"sid-488D0FF9-C620-45C3-8F57-52E11FABFFAD\" name=\"Ticket vorhanden\" sourceRef=\"sid-C3423358-0834-46F4-9BEF-2312F3F5670B\" targetRef=\"sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7\"></ns0:sequenceFlow>\n  </ns0:choreography>\n</ns0:definitions>\n",
  "output": "//SPDX-License-Identifier: MIT\npragma solidity ^0.8.9;\n\ncontract sid_1aff29f9_0098_450b_8f30_defee765cb61 {\n    uint public tokenState = 1; // Start with the start event active\n    address[20] public participants;\n    uint public conditions;\n\n    constructor(address[20] memory _participants) {\n        participants = _participants;\n    }\n\n    function setConditions(uint _conditions) external {\n        conditions = _conditions;\n    }\n\n    function enact(uint taskID) external {\n        uint _tokenState = tokenState;\n        while (_tokenState != 0) {\n            // Start Event (sid-5F67C06C-20B9-4E0E-B4EF-C293FBACEF7A) to Task 4\n            if (_tokenState & 1 == 1) {\n                _tokenState &= ~uint(1);\n                _tokenState |= 2; // Activate Task 4 (sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B)\n                continue;\n            }\n\n            // Task 4: Kunde fuellt Formular aus (sid-08E44EEC-F5A2-4529-9B95-DAA0B1553E3B)\n            if (_tokenState & 2 == 2) {\n                if (taskID == 4 && msg.sender == participants[6]) {\n                    _tokenState &= ~uint(2);\n                    _tokenState |= 4; // Activate Task 1 (sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 1: Ticket erstellen (sid-71EECEC0-BED7-4D5B-A3B9-F5E0A08A1B91)\n            if (_tokenState & 4 == 4) {\n                if (taskID == 1 && msg.sender == participants[0]) {\n                    _tokenState &= ~uint(4);\n                    _tokenState |= 8; // Activate Task 10 (sid-04736748-3A55-4172-8EC2-70379C6D6C1C)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 10: Meldet sich an (sid-04736748-3A55-4172-8EC2-70379C6D6C1C)\n            if (_tokenState & 8 == 8) {\n                if (taskID == 10 && msg.sender == participants[18]) {\n                    _tokenState &= ~uint(8);\n                    _tokenState |= 16; // Activate Task 2 (sid-C3423358-0834-46F4-9BEF-2312F3F5670B)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 2: Ticket auswaehlen (sid-C3423358-0834-46F4-9BEF-2312F3F5670B)\n            if (_tokenState & 16 == 16) {\n                if (taskID == 2 && msg.sender == participants[2]) {\n                    _tokenState &= ~uint(16);\n                    _tokenState |= 32; // Activate Gateway (sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Exclusive Gateway (sid-0F1C5333-10D0-4B87-80D3-59126F5AB5F7)\n            if (_tokenState & 32 == 32) {\n                if (conditions & 1 == 1) {\n                    _tokenState &= ~uint(32);\n                    _tokenState |= 64; // Activate End Event (sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80)\n                    continue;\n                } else {\n                    _tokenState &= ~uint(32);\n                    _tokenState |= 128; // Default path to Task 3 (sid-640C6210-0293-4116-9743-EE1E3CECEBC1)\n                    continue;\n                }\n            }\n\n            // Task 3: Ticket bearbeiten (sid-640C6210-0293-4116-9743-EE1E3CECEBC1)\n            if (_tokenState & 128 == 128) {\n                if (taskID == 3 && msg.sender == participants[4]) {\n                    _tokenState &= ~uint(128);\n                    _tokenState |= 256; // Activate Task 5 (sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 5: Status veraendern (sid-4A7608DF-1B16-49D8-8329-8CE3A53FEB93)\n            if (_tokenState & 256 == 256) {\n                if (taskID == 5 && msg.sender == participants[8]) {\n                    _tokenState &= ~uint(256);\n                    _tokenState |= 512; // Activate Task 6 (sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 6: Ticket abschliessen (sid-C1BA5A74-1714-45AF-B4E3-8A6DA558B477)\n            if (_tokenState & 512 == 512) {\n                if (taskID == 6 && msg.sender == participants[10]) {\n                    _tokenState &= ~uint(512);\n                    _tokenState |= 1024; // Activate Task 7 (sid-B568F431-74F6-46AC-932A-58E90EB96830)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 7: Ticket abspeichern (sid-B568F431-74F6-46AC-932A-58E90EB96830)\n            if (_tokenState & 1024 == 1024) {\n                if (taskID == 7 && msg.sender == participants[12]) {\n                    _tokenState &= ~uint(1024);\n                    _tokenState |= 2048; // Activate Task 8 (sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 8: Rueckmeldung zu Bearbeitung geben (sid-0E65D5AE-A506-4126-AD69-2C5AF174C9BE)\n            if (_tokenState & 2048 == 2048) {\n                if (taskID == 8 && msg.sender == participants[14]) {\n                    _tokenState &= ~uint(2048);\n                    _tokenState |= 4096; // Activate Task 9 (sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // Task 9: Rueckmeldung einsehen (sid-B42BA3E1-4936-4177-9785-0CBF5888F7DB)\n            if (_tokenState & 4096 == 4096) {\n                if (taskID == 9 && msg.sender == participants[16]) {\n                    _tokenState &= ~uint(4096);\n                    _tokenState |= 64; // Activate End Event (sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80)\n                    taskID = 0;\n                    continue;\n                }\n            }\n\n            // End Event (sid-B800242F-DF9E-49B1-BB68-2BAC0BF10E80)\n            if (_tokenState & 64 == 64) {\n                _tokenState = 0; // Process termination\n                break;\n            }\n\n            break;\n        }\n        tokenState = _tokenState;\n    }\n}"
}